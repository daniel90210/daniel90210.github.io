<script>
    document.addEventListener('DOMContentLoaded', function () {
        const boardElement = document.getElementById('chessboard');
        const statusElement = document.getElementById('status');

        const chess = new Chess(); // Initializes chess.js
        const board = Chessboard(boardElement, {
            position: 'start',
            pieceTheme: function (piece) {
                return `pieces/${piece}.PNG`; // Load custom piece images
            },
            draggable: true,
            onDrop: function (source, target) {
                const move = chess.move({ from: source, to: target, promotion: 'q' });
                if (move === null) return 'snapback'; // Invalid move
                updateStatus();
            }
        });

        function updateStatus() {
            statusElement.textContent = chess.turn() === 'w' ? "White's Turn" : "Black's Turn";
        }

        updateStatus();
    });
</script>
