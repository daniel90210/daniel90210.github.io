<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chess Game</title>
    
    <!-- Link to chess.js JS (Chess logic) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.13.4/chess.min.js"></script>
    
    <!-- Link to chessboard.js CSS (for UI layout) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chessboard-js/1.0.0/chessboard-1.0.0.css">
    
    <!-- Link to chessboard.js JS (for handling the board UI) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chessboard-js/1.0.0/chessboard-1.0.0.js"></script>
</head>
<body>
    <div class="chess-container">
        <div id="chessboard" class="chessboard"></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Initialize the chess game logic
            const game = new Chess();

            // Initialize chessboard with custom settings
            const board = ChessBoard('chessboard', {
                draggable: true,
                dropOffBoard: 'trash',
                sparePieces: true,
                onDrop: handleMove,  // Handle piece drops
                position: 'start',   // Set the initial position
            });

            // Function to handle a move
            function handleMove(from, to) {
                const move = game.move({ from, to });  // Make the move using chess.js
                renderMoveHistory(game.history());     // Update move history
                board.position(game.fen());           // Update board display
            }

            // Function to render the move history
            function renderMoveHistory(moves) {
                console.log('Move history: ' + moves.join(', '));
            }
        });
    </script>
</body>
</html>
